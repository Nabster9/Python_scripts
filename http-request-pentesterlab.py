import sys
import requests

def main():
	if (len(sys.argv) < 2):
		print("Error: Put an URL first")
		return

	#variables
	url = sys.argv[1] + "pentesterlab"

	"""
	cookies = {"key": "please"}
	
	second_header = {"Accept-Language": "key-please"}
	data={"key": "please"}
	header = {"Content-Type": "application/xml"}
	response = requests.get(url, headers=second_header)
	response = requests.post(url)	
	files = {'filename': ('../portscanner.py', open('portscanner.py', 'rb'), 'text/plain')}
	"""
	#<key value="please"></key>
	data ="key:\n  - please\n  - please2"
	header = {"Content-Type": "application/yaml"}
	print("data: "+data)
	try:
		response = requests.post(url, headers=header, data=data)
		if response.status_code == 200:
			print("1.Request to: " + url)
			if response.request.method == 'POST':
				print("2.POST request sent successfully.")
			elif response.request.method == 'GET':
				print("2.GET request sent successfully.")
			print("3.Response:\n" + response.text)
		else:
			print("Failed to send request. Status code:", response.status_code)
	except requests.exceptions.RequestException as e:
			print("An error occurred:", e)
 
if __name__ == "__main__":
    main()